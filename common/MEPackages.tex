%
% This file contains the general-purpose packages needed for the MultEdu system
%
\usepackage{morewrites}	% To eliminate No room for a new \write
\usepackage{graphicx}
\usepackage{xkeyval}	% Allow to use key-value pairs in arguments of macros
\usepackage{xstring}  % Strings in LaTeX
\usepackage{etoolbox}		% Utility package, mainly for packet writers
\usepackage{color,calc}
\usepackage{xifthen}	% Provides \isempty
\usepackage{enumitem}	% Set packed items?
\setitemize{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}
	
\usepackage{adjustbox}
\usepackage{wasysym}	% for smiley
\usepackage{listingsutf8}	% Use program listings
\usepackage{booktabs}		% Book quality tables
\usepackage{colortbl}			% Color tables
%	\usepackage{longtable}			% Break tables at page boundaries
\usepackage{calc}
\usepackage{answers}
	
\usepackage{savesym} 	% http://comments.gmane.org/gmane.emacs.orgmode/72621
\savesymbol{iint}
\savesymbol{iiint}

%	\usepackage{amsthm}
%	\usepackage{mathtools}	% special math environments

\ifx\MayFloat\undefined	% Packet for non-printable forms
\else	% Packets for printable forms
	\usepackage{float}		% For custom floats
	\floatstyle{plaintop}	% Caption is above the content
%	\newfloat{program}{thp}{lop}[chapter]
%	\floatname{program}{\ifx\LectureLanguage\undefined Programlista\else Listing\fi}
	\newfloat{exercise}{thp}{lep}[chapter]
	\floatname{exercise}{\ifx\LectureLanguage\undefined List of exercises\else A gyakorlatok listája \fi}
	\newfloat{solution}{thp}{lsp}[chapter]
	\floatname{solution}{\ifx\LectureLanguage A megoldások listája\else\undefined List of solutions\fi}
\fi

\ifx\DisableTikz\undefined
\usepackage{tikz}   
\usetikzlibrary{
	shapes,
	positioning,
	arrows,
	fit,
	backgrounds,
	calc,
	tikzmark,
	shadows,
	automata}
\fi
	\usepackage{pgfplots}
	\usepackage{pdfrender}
	 \usepackage[backend=bibtex]{biblatex}   	% for beamer bibliography
%	\input{../../common/MEMacros}	% % Must be after 'geometry'
%	\input{../../common/MEListings}
\ifx\DisableIndex\undefined
	\usepackage{makeidx}
	\ifx\LecturePrintable\undefined
	\newcommand{\indexit}[1]{#1}
%		\renewcommand{\index}{}\renewcommand{\indexit}[1]{#1}
	\else
		\usepackage[columns=2]{idxlayout} 
		\makeindex
	\fi
\fi

%%\LDebugMessage{Glossary initialized}
\usepackage[toc,acronym]{glossaries}
\ifx\LecturePrintable\undefined\else\makeglossaries\fi
			
%\ifx\DisableGlossary\undefined
			
%%%http://tex.stackexchange.com/questions/20034/glossaries-print-first-occurence-by-using-acronym-desc
%\AtBeginDocument{%
%	\defglsdisplayfirst[\acronymtype]{%
%		\glsentryshort{\glslabel} (\glsentrylong{\glslabel})#4%
%%		\glsentryshort{\glslabel} \footnote{\glsentrylong{\glslabel})#4}%
%	}%
%}
			
%%% http://archive.cs.uu.nl/mirror/CTAN/macros/latex/contrib/glossaries/samples/sample-custom-acronym.tex
%  % This is a sample file to illustrate how to define a custom
%  % acronym style. This example defines the acronyms so that on first use
%  % they display the short form in the text and with the long form
%  % and description in a footnote. In the main body of the
%  % document the short form will be displayed in small caps, but in
%  % the list of acronyms the short form is displayed in normal
%  % capitals. To ensure this, the short form should be written in
%  % lower case when the acronym is defined, and \MakeTextUppercase is
%  % used when it's displayed in the list of acronyms.
%  
%  \newacronymstyle{custom-fn}% new style name
%  {% Check for long form in case of a mixed glossary
%  	\ifglshaslong{\glslabel}{\glsgenacfmt}{\glsgenentryfmt}%
%  }%
%  {% Style definitions:
%  	% User needs to supply the description:
%  	\renewcommand*{\GenericAcronymFields}{}%
%  	% Need to ensure hyperlinks are switched off on first use:
%  	\glshyperfirstfalse
%  	% Redefine the commands used by \glsgenacfmt on first use:
%  	\renewcommand*{\genacrfullformat}[2]{%
%  		\firstacronymfont{\glsentryshort{##1}}##2%
%  		\footnote{\glsentrylong{##1}: \glsentrydesc{##1}}%
%  	}%
%  	\renewcommand*{\Genacrfullformat}[2]{%
%  		\firstacronymfont{\Glsentryshort{##1}}##2%
%  		\footnote{\glsentrylong{##1}: \glsentrydesc{##1}}%
%  	}%
%%  	\renewcommand*{\genplacrfullformat}[2]{%
%%  		\firstacronymfont{\glsentryshortpl{##1}}##2%
%%  		\footnote{\glsentrylongpl{##1}: \glsentrydesc{##1}}%
%%  	}%
%%  	\renewcommand*{\Genplacrfullformat}[2]{%
%%  		\firstacronymfont{\Glsentryshortpl{##1}}##2%
%%  		\footnote{\glsentrylongpl{##1}: \glsentrydesc{##1}}%
%%  	}%
%%  	% Redefine the no-link full forms:
%%  	\renewcommand*{\glsentryfull}[1]{%
%%  		\glsentrylong{##1}\space(\acronymfont{\glsentryshort{##1}})%
%%  	}%
%%  	\renewcommand*{\Glsentryfull}[1]{%
%%  		\Glsentrylong{##1}\space(\acronymfont{\glsentryshort{##1}})%
%%  	}%
%%  	\renewcommand*{\glsentryfullpl}[1]{%
%%  		\glsentrylongpl{##1}\space(\acronymfont{\glsentryshortpl{##1}})%
%%  	}%
%%  	\renewcommand*{\Glsentryfullpl}[1]{%
%%  		\Glsentrylongpl{##1}\space(\acronymfont{\glsentryshortpl{##1}})%
%%  	}%
%%  	% Redefine the link full forms:
%%  	\renewcommand*{\acrfullfmt}[3]{%
%%  		\glslink[##1]{##2}{%
%%  			\glsentrylong{##2}##3\space(\acronymfont{\glsentryshort{##2}})%
%%  		}%
%%  	}%
%%  	\renewcommand*{\Acrfullfmt}[3]{%
%%  		\glslink[##1]{##2}{%
%%  			\Glsentrylong{##2}##3\space(\acronymfont{\glsentryshort{##2}})%
%%  		}%
%%  	}%
%%  	\renewcommand*{\ACRfullfmt}[3]{%
%%  		\glslink[##1]{##2}{%
%%  			\MakeTextUppercase{%
%%  				\glsentrylong{##2}##3\space
%%  				(\acronymfont{\glsentryshort{##2}})%
%%  			}%
%%  		}%
%%  	}%
%%  	\renewcommand*{\acrfullplfmt}[3]{%
%%  		\glslink[##1]{##2}{%
%%  			\glsentrylongpl{##2}##3\space
%%  			(\acronymfont{\glsentryshortpl{##2}})%
%%  		}%
%%  	}%
%%  	\renewcommand*{\Acrfullplfmt}[3]{%
%%  		\glslink[##1]{##2}{%
%%  			\Glsentrylongpl{##2}##3\space
%%  			(\acronymfont{\glsentryshortpl{##2}})%
%%  		}%
%%  	}%
%%  	\renewcommand*{\ACRfullplfmt}[3]{%
%%  		\glslink[##1]{##2}{%
%%  			\MakeTextUppercase{%
%%  				\glsentrylongpl{##2}##3\space
%%  				(\acronymfont{\glsentryshortpl{##2}})%
%%  			}%
%%  		}%
%%  	}%
%%  	% Use smallcaps for the acronym in the document text:
%%  	\renewcommand*{\acronymfont}[1]{\textsc{##1}}%
%%  	\renewcommand*{\acrpluralsuffix}{\glstextup{\glspluralsuffix}}%
%%  	% Sort acronyms according to the long form:
%%  	\renewcommand*{\acronymsort}[2]{##2}%
%%  	% Set the name in the list of acronyms to the long form followed by
%%  	% the short form (in upper case) in parentheses:
%%  	\renewcommand*{\acronymentry}[1]{%
%%  		\Glsentrylong{##1}\space(\MakeTextUppercase{\glsentryshort{##1}})}%
%  }
% % Now set the new acronym style (to override the default style)
% \setacronymstyle{custom-fn}
%\setabbreviationstyle[acronym]

			
%\fi% \DisableGlossary

\ifx\LectureBibliography\undefined
\else
	\usepackage[backend=bibtex]{biblatex} % defined in MEPackages
	\bibliography{\LectureBibliography}
\fi
\MEDebugMessage{MEPackages successfully loaded}
	
